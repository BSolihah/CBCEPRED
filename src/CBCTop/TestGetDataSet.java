/*
 * baca list file dari seppa 3 train
 * baca file dari folder gao chain
 * buat daftar nama file yang digunakan bersama
 */
package CBCTop;


import ExtractData.ExtractFolder;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.util.ArrayList;

/**
 *
 * @author dell
 */
public class TestGetDataSet {
    public static void main(String[]args){
        String s = "0.6161678832116789,18,18,0,18,0,0,0,0,0,18,0,0,0,0,0,18,0,0,0,0,0,18,0,0,0,0,0,0,2,16,39.56,47.290909090909096,0.4733872033540091,168.83,62.825,106.01,102.98,65.853,72.457,170.44,54.044,70.192,76.307,0.0,0.0,0.0,0.0,0.0,0.0,1.3836,0.22573,1.2811,0.17115,1.8944,1.084,-4.5,4.38,0.6,0.2,0.45,0.52,0.72,0.84,0.529,109.1,-70.0,-68.0,-3.6,3.2,-0.12,0.728,8.274,4.396,6.9,0.262,0.362,0.68,0.291,-1.03,1.06,0.124,1.0,1.0,1.0,5.0,0.0,1.0,202.0,225.0,90.0,0.01,0.0,0.95,0.98,0.93,1.01,0.44,1.25,0.34,1.24,0.9,0.9,0.89,1.05,0.07,0.106,0.099,0.085,1.05,-0.24,-0.09,-0.52,-0.7,-0.42,0.7,0.79,0.74,0.79,7.5,4.9,65.0,0.59,0.38,-1.76,-2.1,10.0,-0.96,174.2,238.0,12.5,8.99,1.82,-1.01,2.34,0.69,6.13,7.82,1.52,6.24,11.1,0.04,4.0,3.0,1.0,0.0,4.3,1.05,0.7,0.7,1.7,1.7,0.1,1.0,1.09,0.2,1.0,1.04,1.15,0.99,1.0,0.96,0.93,1.01,0.75,181.2,0.65,10.5,124.0,1.91,2.3,3.0,26.37,68.43,341.01,1.17,0.98,1.06,0.97,0.75,1.07,2.78,0.52,94.7,5.0,67.0,0.1,-1.4,0.85,1.18,0.051,83.0,2.6,382.0,1.0,0.85,1.15,0.79,1.038,1.028,0.901,133.0,1.0,6.5,6.55,0.34,105.0,-4.5,-0.06,3.0,3.72,121.4,206.6,2.38,6.0,0.2,0.96,0.99,0.88,0.98,0.97,0.9,0.28,0.93,0.68,1.02,11.72,1.18,0.94,0.62,0.76,0.48,1.18,26.66,0.8,-4.5,-0.4,-2.0,0.98,1.09,81.0,1.92,0.83,0.67,1.33,5.86,3.34,1.92,-1.18,1.54,-1.29,2.81,-0.91,3.96,-0.57,1.21,0.41,0.4,6.75,6.01,4.38,3.73,0.09,6.65,4.75,0.27,-0.26,-0.93,0.0,-1.475,-0.921,-0.554,-16.225,-10.131,0.84,0.95,-1.54,2.55,5.97,0.93,1.04,1.03,0.75,0.91,0.93,0.93,0.91,1.06,1.06,0.99,1.03,0.0,1.3,0.77,0.9,4.2,-3.3,11.49,6.81,2.45,11.28,13.24,11.05,2.53,5.7,0.227,0.083,0.59,51.5,0.96,0.99,0.88,0.95,0.7,0.04,-0.14,-0.1,-0.03,-0.22,0.22,0.23,0.1,0.08,0.18,0.07,0.21,0.05,-0.13,0.02,0.03,0.14,0.25,0.19,-0.02,-0.09,-0.11,-0.13,-0.1,0.04,0.02,0.06,0.17,0.06,-0.07,0.12,-0.4,-0.23,-0.04,0.21,-0.13,-0.09,-0.2,-0.01,0.962,1.112,1.72,2.02,1.14,2.6,1.75,0.99,0.9,1.2,1.02,0.0,1.0,1.52,1.19,21.25,17.82,-14.92,-1.32,-5.0,-13.6,-18.6,250.4,-2.71,-0.84,0.4,0.4,0.4,0.7,0.9,0.4,1.5,1.2,1.3,1.0,0.8,0.8,2.1,1.0,0.9,1.4,1.1,-0.9,-5.2,0.3,1.4,0.4,0.4,1.1,2.1,0.0,2.0,1.0,-1.2,2.6,0.3,162.2,0.64,12.1,3.89,0.3,0.73,0.211,-0.176,0.079,-0.167,1.033,0.1,-0.59,1.06,1.128,1.087,0.795,0.677,1.725,1.38,2.088,0.364,0.936,0.296,0.459,0.194,0.09593,0.0,39.23,6.18,0.88,0.49,-0.2,-0.37,-0.4,9.1,-19.92,2.88,2.52,-3.44,0.0,0.0,0.0,0.0,-0.089,0.83,14.28,52.0,10.76,4.6,1.15,1.14,0.81,0.9,0.76,1.05,0.95,1.33,1.39,1.73,1.49,1.41,1.24,1.39,1.66,1.45,1.11,0.96,1.29,1.09,13.3,-0.68,1.008,1.31,1.026,0.807,0.503,0.753,0.976,0.784,1.23,3.91,-0.44,1.7,0.77,0.353,0.327,4.6,3.6,5.5,3.9,7.3,0.95,-184.0,-144.0,-109.0,-95.0,-79.0,-57.0,-41.0,1.5,-0.3,0.34,4.2,5.0,4.6,4.9,8.7,8.48,6.87,4.51,7.3,3.71,3.26,3.05,2.8,5.91,4.9,3.71,5.17,0.22,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,190.3,194.0,0.0959,0.2,-0.85,1.26,-3.28,1.6,1.58,-7.0,-5.1,0.0363,0.0394,-0.0103,0.0,0.37,0.32,1.143,1.129,1.137,1.069,1.131,1.132,1.154,1.239,1.038,2.71,3.2,8.5,-0.0762,192.8,196.1,1.361,-2.55,0.0,1.87,0.12,-0.16,0.0,0.0,NaN,0.0,0.0,-1.56,0.0,-0.7,48.66,-0.584,0.75,0.08,-1.03,-3.89,-0.26,1.33,0.44,0.07,0.09,0.07,0.08,12.3,2.11,false";
        String []splits = s.split(",");
        System.out.println("ukuran: "+splits.length);
        for(int i=0;i<splits.length;i++){
            System.out.println(splits[i]);
        }
        String s2="0.3756779661016949,22,22,0,22,0,0,0,0,0,22,0,0,0,0,0,22,0,0,0,0,0,22,0,0,0,0,0,0,0,22,31.76,31.325555555555557,0.17700968530290986,88.66,30.429,58.231,23.98,64.68,45.202,85.595,36.26,33.034,52.352,0.39735,0.77459,0.0,0.0,2.2499,0.0,0.99886,0.15764,1.0495,0.068365,1.1484,0.61548,-3.9,4.36,1.15,0.06,0.15,0.6,0.55,0.75,0.466,105.1,-141.0,-188.0,-3.7,-2.5,-0.35,0.767,8.408,4.358,6.5,0.402,0.265,0.68,0.219,0.0,0.99,0.032,1.0,1.0,1.0,4.0,0.0,1.0,171.3,200.0,97.0,0.03,0.0,1.01,1.16,0.74,1.19,0.66,1.83,1.01,1.49,1.0,0.74,1.09,0.82,0.055,0.115,0.072,0.095,1.13,-0.36,-0.09,-0.56,-0.62,-0.41,0.82,1.03,1.18,1.1,7.0,6.6,56.0,0.15,0.33,-1.1,-0.57,5.7,-0.99,146.19,224.0,14.6,9.18,2.16,-0.99,1.89,0.78,4.77,6.89,1.52,4.87,10.9,0.0,2.0,1.0,1.0,0.0,4.27,1.15,0.7,0.7,1.7,1.7,0.09,1.33,1.08,1.2,1.27,0.86,1.01,0.86,0.82,0.94,0.94,0.91,1.5,175.6,0.33,11.3,119.0,1.4,5.3,3.0,57.1,63.21,300.46,1.26,0.77,1.01,1.25,0.83,1.2,0.79,0.98,103.0,3.0,85.0,0.05,-1.8,1.64,2.18,0.059,72.0,4.1,575.0,1.22,0.77,1.27,0.66,1.093,1.082,1.057,0.0,1.0,7.9,7.92,0.59,100.0,-3.9,-0.09,3.0,2.94,122.0,210.9,2.08,6.0,0.2,1.23,0.77,0.96,1.25,0.77,0.99,0.27,0.7,0.59,0.74,11.36,1.27,0.79,0.89,1.17,1.13,1.05,21.29,0.1,-3.2,-1.9,-3.0,1.05,1.23,65.0,1.23,1.23,0.81,0.84,6.01,3.36,3.2,-0.84,2.58,-1.02,4.67,-0.4,3.5,-0.75,1.04,1.15,0.62,6.25,6.11,5.25,6.31,0.16,8.36,4.93,0.58,-1.05,-4.18,0.0,-1.374,-1.074,-0.3,-12.366,-9.666,2.55,0.61,-1.71,-9.97,10.68,1.23,1.13,0.77,0.75,0.95,0.95,1.01,1.08,1.2,1.0,0.73,0.83,1.18,0.66,1.27,0.86,5.7,-3.31,10.8,5.72,2.12,11.96,13.28,9.93,1.79,4.88,0.391,0.058,0.407,36.8,1.23,0.77,0.96,1.0,0.7,0.26,0.12,-0.17,-0.19,0.03,-0.11,0.16,0.23,0.37,0.47,0.28,0.41,0.45,0.03,0.08,-0.09,0.04,-0.29,-0.46,-0.59,-0.55,-0.51,-0.33,-0.44,-0.39,-0.43,-0.42,-0.2,0.33,0.0,0.14,0.45,0.09,0.17,-0.14,-0.43,0.06,-0.15,-0.27,1.04,1.232,3.9,0.88,1.27,2.86,0.85,0.83,0.71,0.87,1.36,0.0,0.94,1.0,0.91,16.46,14.07,-5.55,0.08,-3.97,-5.63,-9.6,215.2,-2.05,-1.18,1.0,1.0,0.7,0.6,1.0,0.8,0.8,1.9,1.1,1.4,1.0,2.2,1.9,2.0,1.3,1.2,1.3,2.3,-4.1,0.5,7.3,-3.3,-2.9,-3.1,1.0,-1.2,2.8,1.3,-0.8,1.0,-0.9,115.5,0.52,6.13,2.46,0.4,1.5,0.228,-0.075,0.049,-0.371,0.939,1.0,-0.67,1.24,1.203,0.735,1.06,0.932,1.254,1.288,0.835,0.947,1.045,0.17,0.559,0.159,0.0371,0.0,9.71,4.4,0.97,0.31,-0.12,-0.16,-0.45,10.1,-9.52,2.84,1.41,-3.14,7.9,7.5,17.96,18.36,-0.062,1.6,15.71,49.5,9.74,3.5,1.03,1.06,0.97,0.66,0.84,1.08,0.8,0.82,1.27,1.24,1.1,1.17,1.22,1.71,1.63,1.45,1.19,1.27,1.13,1.1,13.0,-0.65,1.102,1.367,1.029,0.834,0.615,0.784,1.026,0.841,1.34,3.77,-0.41,1.6,0.73,0.429,0.446,6.1,6.5,7.7,7.5,10.5,0.91,-24.0,-205.0,-148.0,-124.0,-9.0,-38.0,115.0,1.4,-0.18,0.29,6.3,5.8,4.4,6.7,7.9,12.98,10.2,9.67,12.68,3.39,2.54,2.0,1.89,7.81,6.01,5.45,7.59,0.255,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,165.1,167.3,0.0371,-1.19,-1.62,-2.78,-2.36,1.56,1.1,-26.0,-4.11,-0.0101,-0.0053,-0.0158,-0.112,0.32,0.24,0.944,0.946,0.952,0.979,0.478,1.003,0.944,1.008,0.893,2.12,2.5,6.1,-0.2134,170.0,162.5,1.105,-0.8,0.15,1.7,0.57,0.48,0.0,0.0,0.32,0.0,0.0,-2.03,0.283,-1.6,42.92,-0.67,-5.62,-1.01,-5.99,-11.92,-4.08,7.7,1.01,0.17,0.32,0.33,0.3,8.8,3.88,false";
        String []splits2 = s2.split(",");
        System.out.println("ukuran: "+splits2.length);
        for(int i=0;i<splits2.length;i++){
            System.out.println(splits2[i]);
        }
        String list_file = "list_antigen_train_seppa3.txt";
         ArrayList<Contact> contacts = loadListContact(list_file);
         String path_gao = "src/dataset/gao/chain/";
         File folder = new File(path_gao);
         ExtractFolder ef = new ExtractFolder();
         ArrayList<String> filenames = ef.listAllFiles(folder);
         ArrayList<String>filetouse = new ArrayList();
         for(Contact c: contacts){
             String pdb= c.pdbid;
             String ag = c.Ag;
            // System.out.println(pdb+"_"+ag.toUpperCase());
             if(filenames.contains(pdb.toLowerCase()+"_"+ag.toUpperCase()))
                 filetouse.add(pdb.toLowerCase()+"_"+ag.toUpperCase());
             
         }
    }
    public static ArrayList<Contact> loadListContact(String list_file){
     //pdbid
     //ag chain
     //ab chain
     ArrayList<Contact> contactList=null;
     try{
         if (new File("src/dataset/"+list_file).exists()) {
             contactList = new ArrayList();
            String dataline = null;
            FileReader fr = null;
            fr = new FileReader(new File("src/dataset/"+list_file));
                BufferedReader br = new BufferedReader(fr);
                dataline = br.readLine();                
                while (dataline != null)
                {
                   // System.out.println(dataline);
                    
                    String[] splitdl = dataline.split(":"); 
                    if(splitdl.length==3){
                        Contact c= new Contact();
                        c.pdbid= splitdl[0].trim();
                        c.Ag = splitdl[1].trim();      
                        c.Ab = splitdl[2].trim();
                        contactList.add(c);
                    }
                    dataline = br.readLine();
                }
                br.close();
                
        }
     }catch(Exception e){
     
     }finally{
         return contactList;
     }
     
     
     }
}
class Contact{
    String pdbid;
    String Ag;
    String Ab;
}
